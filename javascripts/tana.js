// Generated by CoffeeScript 1.6.3
(function() {
  var Tana;

  Tana = (function() {
    function Tana(prices) {
      this.prices = prices;
    }

    Tana.prototype.SMA = function(n) {
      var avg, i, sma, _i, _j, _k, _ref, _ref1;
      if (n == null) {
        n = 5;
      }
      if (!((1 <= n && n <= this.prices.length))) {
        return (function() {
          var _i, _ref, _results;
          _results = [];
          for (i = _i = 1, _ref = this.prices.length; 1 <= _ref ? _i <= _ref : _i >= _ref; i = 1 <= _ref ? ++_i : --_i) {
            _results.push(NaN);
          }
          return _results;
        }).call(this);
      }
      sma = [];
      for (i = _i = 0, _ref = n - 1; 0 <= _ref ? _i < _ref : _i > _ref; i = 0 <= _ref ? ++_i : --_i) {
        sma.push(NaN);
      }
      avg = 0;
      for (i = _j = 0; 0 <= n ? _j < n : _j > n; i = 0 <= n ? ++_j : --_j) {
        avg += this.prices[i];
      }
      avg /= n;
      sma.push(avg);
      for (i = _k = n, _ref1 = this.prices.length; n <= _ref1 ? _k < _ref1 : _k > _ref1; i = n <= _ref1 ? ++_k : --_k) {
        sma.push(avg += (this.prices[i] - this.prices[i - n]) / n);
      }
      return sma;
    };

    return Tana;

  })();

  $(function() {
    var a, test_prices;
    test_prices = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
    a = new Tana(test_prices);
    console.log(test_prices);
    return console.log(a.SMA(20));
  });

}).call(this);
